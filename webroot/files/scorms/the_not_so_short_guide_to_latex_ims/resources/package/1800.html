<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
	<style type="text/css">
	body { font-family: Verdana, Arial, Helvetica, sans-serif;}
	a.at-term {	font-style: italic; }
	</style>
	<title>11.6. Problems with Bookmarks</title>
	<meta name="Generator" content="ATutor">
	<meta name="Keywords" content="">
</head>
<body> <div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13243"></a>11.6.&nbsp;
            <span class="abbrev">4.7.6</span><a name="x1-880004.7.6"></a>Problems with Bookmarks
        </h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="se11se6.html#d0e13348">11.6.1. 
                Source Compatibility Between LaTeX and pdfLaTeX
            </a></span></dt></dl></div><p>   The text displayed by bookmarks does not always look like you expect it to
            look. Because bookmarks are &#8220;just text,&#8221; much fewer characters are available for
            bookmarks than for normal LaTeX text. Hyperref will normally notice such
            problems and put up a warning:
            
            
            
        </p><div class="literallayout"><p><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Package&nbsp;hyperref&nbsp;Warning:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Token&nbsp;not&nbsp;allowed&nbsp;in&nbsp;a&nbsp;PDFDocEncoded&nbsp;string:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p></div><p>You can now work around this problem by providing a text string for the
            bookmarks, which replaces the offending text:
        </p><p></p><div class="informaltable"><table border="1"><colgroup><col width="100%"></colgroup><tbody><tr><td align="left">
                            <p>
                                <a name="dx1-88001"></a><a name="dx1-88002"></a><span class="tt">\texorpdfstring</span><em><span class="remark">{</span></em><span class="emphasis"><em>TE X text</em></span><em><span class="remark">}{</span></em><span class="emphasis"><em>Bookmark Text</em></span><em><span class="remark">}</span></em>
                            </p>
                        </td></tr><tr><td align="left">
                            <p> </p>
                        </td></tr></tbody></table></div><p>   Math expressions are a prime candidate for this kind of problem:
            
            
            
        </p><div class="literallayout"><p><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\section{\texorpdfstring{$E=mc^2$}%<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{E=mc^2}}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p></div><p>
            which turns <em><span class="remark">\section{$E=mc^2$}</span></em> to &#8220;E=mc2&#8221; in the bookmark area.
        </p><p>   Color changes also do not travel well into bookmarks:
        </p><p>
            <em><span class="remark">\section{\textcolor{red}{Red&nbsp;!}}</span></em>
        </p><p>
            produces the string &#8220;redRed!&#8221;. The command <em><span class="remark">\textcolor</span></em> gets ignored but its
            argument (red) gets printed.
        </p><p>   If you use
        </p><p>
            <em><span class="remark">\section{\texorpdfstring{\textcolor{red}{Red&nbsp;!}}{Red\&nbsp;!}}</span></em>
        </p><p>the result will be much more legible.
        </p><p>
               If you write your document in unicode and use the <em><span class="remark">unicode</span></em> option for the
            <a name="dx1-88003"></a><a name="dx1-88004"></a><span class="sf">hyperref</span> package you can use unicode characters in bookmarks. This will give
            you a much larger selection of characters to pick from when when using
            <a name="dx1-88005"></a><a name="dx1-88006"></a><span class="tt">\texorpdfstring</span>.
        </p><p>
        </p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e13348"></a>11.6.1.&nbsp;
                <a name="x1-890004.7.6"></a>Source Compatibility Between LaTeX and pdfLaTeX
            </h4></div></div></div><p>   Ideally your document would compile equally well with LaTeX and pdfLaTeX.
                The main problem in this respect is the inclusion of graphics. The simple
                solution is to <span class="emphasis"><em>systematically drop</em></span> the file extension from <a name="dx1-89001"></a><a name="dx1-89002"></a><span class="tt">\includegraphics</span>
                commands. They will then automatically look for a file of a suitable format in
                the current directory. All you have to do is create appropriate versions
                of the graphics files. LaTeX will look for <span class="tt">.eps</span>, and pdfLaTeX will try
                to include a file with the extension <span class="tt">.png</span>, <span class="tt">.pdf</span>, <span class="tt">.jpg</span> or <span class="tt">.mps</span> (in that
                order).
            </p><p>   For the cases where you want to use different code for the
                PDF version of your document, you can simply add the package
                <a name="dx1-89003"></a><a name="dx1-89004"></a><span class="sf">ifpdf</span><a name="x1-89005f8"></a>
                <sup>[<a name="d0e13388" href="#ftn.d0e13388">42</a>]</sup>
                
                
                
                to your preamble. Chances are that you already have it installed; if not then
                you&#8217;re probably using MiKTE X which will install it for you automatically the first
                time you try to use it. This package defines the special command <a name="dx1-89006"></a><a name="dx1-89007"></a><span class="tt">\ifpdf</span> that
                will allow you to write conditional code easily. In this example, we want the
                PostScript version to be black and white due to the printing costs but we want
                the PDF version for online viewing to be colourful.
                
                
                
            </p><div class="literallayout"><p><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\RequirePackage{ifpdf}&nbsp;%&nbsp;running&nbsp;on&nbsp;pdfTeX?<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\ifpdf<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\documentclass[a4paper,12pt,pdftex]{book}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\else<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\documentclass[a4paper,12pt,dvips]{book}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\fi<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\ifpdf<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\usepackage{lmodern}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\fi<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\usepackage[bookmarks,&nbsp;%&nbsp;add&nbsp;hyperlinks<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colorlinks,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plainpages=false]{hyperref}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\usepackage[T1]{fontenc}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\usepackage[latin1]{inputenc}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\usepackage[english]{babel}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\usepackage{graphicx}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p></div><p>
                In the example above I have included the <a name="dx1-89008"></a><a name="dx1-89009"></a><span class="sf">hyperref</span> package even in the non-PDF
                version. The effect of this is to make the <a name="dx1-89010"></a><a name="dx1-89011"></a><span class="tt">\href</span> command work in all
                cases, which saves me from wrapping every occurrence into a conditional
                statement.
            </p><p>   Note that in recent TE X distributions (TE XLive for example), the normal TE X
                program is actually pdfTE X it will automatically switch between producing pdf
                and dvi according to the settings in the document class. If you use the code
                above then you can still use the <em><span class="remark">pdflatex</span></em> command to get pdf output and <em><span class="remark">latex</span></em>
                for normal dvi output.
            </p><p>
            </p></div><div class="footnotes"><br><hr width="100" align="left"><div class="footnote"><p><sup>[<a name="ftn.d0e13388" href="#d0e13388">42</a>] </sup>If you want the whole story on why to use this package then go to the TE X FAQ under the
                        item
                        <em><span class="remark">http://www.tex.ac.uk/cgi-bin/texfaq2html?label=ifpdf</span></em>.
                    </p></div></div></div></body>
</html>